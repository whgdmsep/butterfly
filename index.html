<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„ë•ê³¼ êµìœ¡ê³¼ì • - Knowledge Universe</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Noto+Sans+KR:wght@300;400;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg-color: #0b0f19;
            --text-color: #e2e8f0;
            --accent-color: #38bdf8;
            --chat-bg: rgba(15, 23, 42, 0.95);
            --user-msg: #0ea5e9;
            --bot-msg: #1e293b;
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            background-image:
                radial-gradient(circle at 15% 50%, rgba(76, 29, 149, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 85% 30%, rgba(56, 189, 248, 0.1) 0%, transparent 50%);
            color: var(--text-color);
            font-family: 'Outfit', 'Noto Sans KR', sans-serif;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            display: flex;
        }

        #main-container {
            flex-grow: 1;
            height: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            position: absolute;
            top: 30px;
            left: 40px;
            z-index: 10;
            pointer-events: none;
        }

        h1 {
            margin: 0;
            font-weight: 800;
            font-size: 2.5rem;
            background: linear-gradient(135deg, #fff 30%, var(--neon-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.03em;
            text-shadow: 0 0 30px rgba(56, 189, 248, 0.3);
        }

        p {
            margin: 8px 0 0;
            color: #94a3b8;
            font-size: 1rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        #graph-area {
            width: 100%;
            height: 100%;
            cursor: grab;
        }

        #graph-area:active {
            cursor: grabbing;
        }

        /* Glassy Tooltip */
        .tooltip {
            position: absolute;
            text-align: left;
            padding: 16px;
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-left: 3px solid var(--accent-color);
            border-radius: 12px;
            pointer-events: none;
            color: #fff;
            font-size: 0.9rem;
            line-height: 1.5;
            box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.2s, transform 0.2s;
            max-width: 320px;
            z-index: 100;
            transform: translateY(10px);
        }

        /* Chatbot Styles */
        #chat-container {
            width: 420px;
            height: 100%;
            background: var(--chat-bg);
            border-left: 1px solid rgba(255, 255, 255, 0.08);
            display: flex;
            flex-direction: column;
            box-shadow: -20px 0 50px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
            z-index: 20;
        }

        .chat-header {
            padding: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-header h2 {
            margin: 0;
            font-size: 1.1rem;
            color: #fff;
            font-weight: 700;
            letter-spacing: 0.05em;
        }

        .chat-messages {
            flex-grow: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .message {
            max-width: 85%;
            padding: 16px 20px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.6;
            animation: slideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .bot {
            background: var(--bot-msg);
            color: #e2e8f0;
            align-self: flex-start;
            border-top-left-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .user {
            background: linear-gradient(135deg, var(--user-msg), var(--neon-purple));
            color: #fff;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
            box-shadow: 0 8px 25px -5px rgba(114, 21, 230, 0.4);
        }

        .result-item {
            display: block;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px dashed rgba(255, 255, 255, 0.15);
            font-size: 0.9rem;
        }

        .result-code {
            font-weight: 700;
            color: var(--neon-blue);
            margin-bottom: 6px;
            display: block;
            font-size: 0.8rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        .chat-input-area {
            padding: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            background: rgba(11, 15, 25, 0.6);
        }

        .input-wrapper {
            display: flex;
            gap: 12px;
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            padding: 6px;
            transition: all 0.3s;
        }

        .input-wrapper:focus-within {
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.15);
            background: rgba(0, 0, 0, 0.3);
        }

        input[type="text"] {
            flex-grow: 1;
            background: transparent;
            border: none;
            padding: 12px 16px;
            color: #fff;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
        }

        button.send-btn {
            background: var(--accent-color);
            border: none;
            color: #0f172a;
            width: 44px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        button.send-btn:hover {
            background: #fff;
            transform: scale(1.05);
        }
    </style>
</head>

<body>

    <div id="main-container">
        <div class="header">
            <h1>ë„ë•ê³¼ êµìœ¡ê³¼ì • ì§€ì‹ íƒí—˜</h1>
            <p>Moral Education Knowledge Flower</p>
        </div>
        <div id="graph-area"></div>
        <div class="tooltip" id="tooltip"></div>
    </div>

    <div id="chat-container">
        <div class="chat-header">
            <i data-lucide="sparkles" color="#38bdf8" size="24"></i>
            <h2>AI Assistant</h2>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message bot">
                ì•ˆë…•í•˜ì„¸ìš”!<br>
                <strong>ë„ë•ê³¼ êµìœ¡ê³¼ì • ì§€ì‹ ìš°ì£¼</strong>ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.<br><br>
                ì™¼ìª½ì˜ ë…¸ë“œë“¤ì„ í†µí•´ ì„±ì·¨ê¸°ì¤€ì˜ ì—°ê²°ë§ì„ íƒìƒ‰í•˜ê±°ë‚˜, ê¶ê¸ˆí•œ í‚¤ì›Œë“œë¥¼ ë¬¼ì–´ë³´ì„¸ìš”.<br><br>
                (ì˜ˆ: "í–‰ë³µ", "í†µì¼", "ì •ì˜")
            </div>
        </div>
        <div class="chat-input-area">
            <div class="input-wrapper">
                <input type="text" id="user-input" placeholder="ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?" onkeypress="handleKeyPress(event)">
                <button class="send-btn" onclick="sendMessage()">
                    <i data-lucide="arrow-right" size="20"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 1. Data Definitions
        const subjectsList = {
            'edu:MiddleSchoolEthics': { label: 'ì¤‘í•™êµ ë„ë•', color: '#ffea00', items: [] }, // Yellow Core
            'edu:EthicsAndThought': { label: 'ìœ¤ë¦¬ì™€ ì‚¬ìƒ', color: '#00f3ff', items: [] },   // Cyan
            'edu:ModernSocietyEthics': { label: 'í˜„ëŒ€ì‚¬íšŒì™€ ìœ¤ë¦¬', color: '#ff28a9', items: [] }, // Neon Pink
            'edu:HumanitiesEthics': { label: 'ì¸ë¬¸í•™ê³¼ ìœ¤ë¦¬', color: '#bc13fe', items: [] }  // Purple
        };

        const ttlData = `@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix edu: <http://library.school.go.kr/metadata/curriculum/> .
@prefix res: <http://library.school.go.kr/resource/> .

# --- Subject Nodes ---
edu:MiddleSchoolEthics a skos:Concept ; skos:prefLabel "ì¤‘í•™êµ ë„ë•" .
edu:ModernSocietyEthics a skos:Concept ; skos:prefLabel "í˜„ëŒ€ì‚¬íšŒì™€ ìœ¤ë¦¬" .
edu:EthicsAndThought a skos:Concept ; skos:prefLabel "ìœ¤ë¦¬ì™€ ì‚¬ìƒ" .
edu:HumanitiesEthics a skos:Concept ; skos:prefLabel "ì¸ë¬¸í•™ê³¼ ìœ¤ë¦¬" .

# --- Standards ---
# [ì¤‘í•™êµ ë„ë•]
edu:ST_9do01-01 a edu:Standard ; dc:identifier "9ë„01-01" ; skos:definition "ìì‹ ì˜ ì‚¶ê³¼ ê°€ì¹˜ê´€ì— ëŒ€í•œ ì„±ì°°ì„ í†µí•´ ìì•„ë¥¼ ì˜¬ë°”ë¡œ ì´í•´í•˜ê³ , ì‚¶ì—ì„œ ë„ë•ì´ í•„ìš”í•œ ì´ìœ ì— ê·¼ê±°í•˜ì—¬ ë„ë•ì ì¸ ì‚¶ì— ëŒ€í•œ ì˜ì§€ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_SuperTurtle .
edu:ST_9do01-02 a edu:Standard ; dc:identifier "9ë„01-02" ; skos:definition "ì¼ìƒì—ì„œ ë°œìƒí•˜ëŠ” ë¶€ë„ë•í•œ í–‰ë™ì˜ ì—¬ëŸ¬ ì›ì¸ì„ ë¶„ì„í•˜ê³ , ë„ë•ì  ì¸ê²©ì´ ê°–ì¶”ì–´ì•¼ í•  íŠ¹ì„±ë“¤ì„ íŒŒì•…í•˜ì—¬ ì´ë¥¼ ë‚´ë©´í™”í•˜ëŠ” ì˜ì§€ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_GoldenSlumber .
edu:ST_9do01-03 a edu:Standard ; dc:identifier "9ë„01-03" ; skos:definition "í–‰ë³µì— ê´€í•œ ì‹¬ë¦¬ì , ì‚¬íšŒì , ìœ¤ë¦¬ì  ì ‘ê·¼ ë“±ì„ í†µí•´ í–‰ë³µì˜ ì˜ë¯¸ë¥¼ ì¢…í•©ì ìœ¼ë¡œ íŒŒì•…í•˜ê³ , ì‚¶ì˜ ëª©ì ê³¼ í–‰ë³µì˜ ê´€ê³„ë¥¼ ì •ë¦½í•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Movie_HectorHappiness .
edu:ST_9do01-04 a edu:Standard ; dc:identifier "9ë„01-04" ; skos:definition "ì˜³ê³  ê·¸ë¦„ì„ ë¶„ë³„í•  ìˆ˜ ìˆëŠ” ë„ë•ì  ê¸°ì¤€ì„ íƒêµ¬í•˜ê³ , ë„ë•ì  ìƒìƒë ¥ì„ ë°”íƒ•ìœ¼ë¡œ ì¼ìƒì˜ ë„ë• ë¬¸ì œë“¤ì— ë„ë•ì  ì¶”ë¡ ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Book_JusticeForYouth .
edu:ST_9do01-05 a edu:Standard ; dc:identifier "9ë„01-05" ; skos:definition "ì‚¶ì˜ ìœ í•œí•¨ì— ê´€í•œ ì„±ì°°ì„ í†µí•´ ìƒëª…ì˜ ì†Œì¤‘í•¨ê³¼ ì˜ë¯¸ ìˆëŠ” ì‚¶ì˜ ì¤‘ìš”ì„±ì„ ì¸ì‹í•˜ê³ , ìì‹ ì˜ ë¯¸ë˜ ëª¨ìŠµì„ ìƒìƒí•˜ë©° ì‚¶ì„ ê³„íší•˜ê³  ì´ë¥¼ ì‹¤ì²œí•˜ëŠ” ì˜ì§€ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_TuesdaysWithMorrie .
edu:ST_9do01-06 a edu:Standard ; dc:identifier "9ë„01-06" ; skos:definition "ë‚´ë©´ì— ëŒ€í•œ ì„±ì°°ì„ í†µí•´ ì‹¬ë¦¬ì  ê³ í†µê³¼ ë¶ˆì•ˆ, ìš°ìš¸ê° ë“±ì˜ ì›ì¸ì„ ì°¾ê³ , ë§ˆìŒì˜ í‰ì˜¨ì„ ì–»ì„ ìˆ˜ ìˆëŠ” ë°©ì•ˆë“¤ì„ ë‹¤ê°ì ìœ¼ë¡œ ëª¨ìƒ‰í•˜ì—¬ ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Book_MindManagement .
edu:ST_9do01-07 a edu:Standard ; dc:identifier "9ë„01-07" ; skos:definition "ì‚¶ì—ì„œ ì§ì—…ì´ ê°–ëŠ” ì˜ë¯¸ì™€ ê°€ì¹˜ë¥¼ íŒŒì•…í•˜ë©°, ì‚¬ë¡€ íƒêµ¬ë¥¼ í†µí•´ ì§ì—…ì  ì–‘ì‹¬ê³¼ ì§ì—…ìœ¤ë¦¬ì˜ í•„ìš”ì„±ì„ ì •ë‹¹í™”í•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Movie_Hudsucker .
edu:ST_9do02-01 a edu:Standard ; dc:identifier "9ë„02-01" ; skos:definition "ì •ì„œì , ë°°ë ¤ì  ê³µë™ì²´ë¡œì„œ ê°€ì •ì˜ íŠ¹ì„±ê³¼ ë„ë•ì  ê¸°ëŠ¥ì„ íŒŒì•…í•˜ê³ , ê°€ì •ì—ì„œ ë°œìƒí•˜ëŠ” ê°ˆë“±ì„ ê³µê°ì ì¸ ì†Œí†µê³¼ ë¯¼ì£¼ì ì¸ ê³¼ì •ì„ í†µí•´ í•´ì†Œí•˜ëŠ” ì˜ì§€ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Movie_InsideOut .
edu:ST_9do02-02 a edu:Standard ; dc:identifier "9ë„02-02" ; skos:definition "ì¹œêµ¬ì˜ ì˜ë¯¸ì™€ ê°€ì¹˜ë¥¼ ì‚¶ì˜ ë§¥ë½ ì†ì—ì„œ íƒêµ¬í•˜ê³ , ì„œë¡œë¥¼ ì¸ê²©ì ìœ¼ë¡œ ì¡´ì¤‘í•˜ëŠ” ì¹œêµ¬ ê´€ê³„ë¥¼ ìƒìƒí•˜ë©° ì´ë¥¼ ì‹¤í˜„í•˜ëŠ” ì˜ì§€ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_FriendLegend .
edu:ST_9do02-03 a edu:Standard ; dc:identifier "9ë„02-03" ; skos:definition "ê°€ìƒê³µê°„ê³¼ í˜„ì‹¤ ì„¸ê³„ì— ëŒ€í•œ ë¹„êµâ‹…ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê°€ìƒê³µê°„ì—ì„œ ë°œìƒí•˜ëŠ” ë„ë• ë¬¸ì œë“¤ì˜ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆì„ ì œì•ˆí•˜ê³ , íƒ€ì¸ì„ ì¡´ì¤‘í•˜ë©° ê°€ìƒê³µê°„ì„ í™œìš©í•˜ëŠ” íƒœë„ë¥¼ í•¨ì–‘í•œë‹¤." ; edu:recommendedResource res:Docu_SocialDilemma .
edu:ST_9do02-04 a edu:Standard ; dc:identifier "9ë„02-04" ; skos:definition "ì¸ê°„ì„ ê´€ê³„ì  ì¡´ì¬ë¡œ í•´ì„í•  ìˆ˜ ìˆëŠ” ì´ìœ ì— ê·¼ê±°í•˜ì—¬ íƒ€ì¸ê³¼ì˜ ê´€ê³„ì—ì„œ í•„ìš”í•œ ê°€ì¹˜â‹…ë•ëª©ì„ íƒêµ¬í•˜ê³ , íƒ€ì¸ì˜ ìƒê°ê³¼ ê°ì •ì— ê³µê°í•˜ëŠ” íƒœë„ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_Wonder .
edu:ST_9do02-05 a edu:Standard ; dc:identifier "9ë„02-05" ; skos:definition "ë‹¤ì–‘í•œ ê°ˆë“± ìƒí™©ì„ í‰í™”ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì„ ëª¨ìƒ‰í•˜ê³ , í­ë ¥ì˜ ìœ í˜•ê³¼ ì›ì¸, ê²°ê³¼ì— ëŒ€í•œ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ì¼ìƒì˜ í­ë ¥ ìƒí™©ì— ëŒ€í•œ ëŒ€ì²˜ ëŠ¥ë ¥ì„ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_Piggybook .
edu:ST_9do02-06 a edu:Standard ; dc:identifier "9ë„02-06" ; skos:definition "ì²­ì†Œë…„ê¸°ì˜ ë°”ëŒì§í•œ ì„±ìœ¤ë¦¬ë¥¼ íƒêµ¬í•˜ì—¬ ë‚´ë©´í™”í•˜ê³ , ì‚¬íšŒâ‹…ë¬¸í™”ì  ì°¨ì›ì—ì„œ ì„±ì˜ ì˜ë¯¸ë¥¼ íŒŒì•…í•˜ì—¬ ì„±ì— ëŒ€í•œ í¸ê²¬ì˜ ë¬¸ì œì ì„ ë¶„ì„í•˜ê³  ì´ë¥¼ ë°”ë¡œì¡ëŠ” ì˜ì§€ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_PaperBagPrincess .
edu:ST_9do03-01 a edu:Standard ; dc:identifier "9ë„03-01" ; skos:definition "ì¸ê¶Œì„ ì¡´ì¤‘í•´ì•¼ í•˜ëŠ” ë„ë•ì  ì´ìœ ë¥¼ ì •ë‹¹í™”í•˜ê³ , ì¸ê¶Œ ì¹¨í•´ ì‚¬ë¡€ì— ëŒ€í•œ íƒêµ¬ë¥¼ í†µí•´ ê·¸ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆì„ ë„ì¶œí•¨ìœ¼ë¡œì¨ ì¸ê¶Œ ê°ìˆ˜ì„±ì„ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_HumanRights .
edu:ST_9do03-02 a edu:Standard ; dc:identifier "9ë„03-02" ; skos:definition "ì™¸ì§‘ë‹¨ì— ëŒ€í•œ í¸ê²¬ì„ ë¹„íŒì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , íƒ€ë¬¸í™”â‹…íƒ€ì¢…êµâ‹…íƒ€ì¸ì¢…ì„ ì¡´ì¤‘í•´ì•¼ í•˜ëŠ” ì´ìœ ì— ê·¼ê±°í•˜ì—¬ ì°¨ì´ì™€ ë‹¤ì–‘ì„±ì— ëŒ€í•œ ì—´ë¦° ë§ˆìŒì„ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_TrueStoryWolf .
edu:ST_9do03-03 a edu:Standard ; dc:identifier "9ë„03-03" ; skos:definition "ë¶í•œì— ëŒ€í•œ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¶„ë‹¨ì˜ ë¬¸ì œì ì„ ë¶„ì„í•˜ê³ , ë„ë•ì  ê°€ì¹˜ì— ê¸°ì´ˆí•˜ì—¬ í†µì¼ì˜ ì˜ë¯¸ë¥¼ ì¬êµ¬ì„±í•¨ìœ¼ë¡œì¨ ë°”ëŒì§í•œ ë‚¨ë¶ê´€ê³„ ë° í†µì¼ì˜ ë°©í–¥ì„ ì œì•ˆí•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Movie_AsOne .
edu:ST_9do03-04 a edu:Standard ; dc:identifier "9ë„03-04" ; skos:definition "ì •ì˜ë¡œìš´ ì‚¬íšŒë¥¼ ìƒìƒí•´ë³´ê³ , ì´ë¥¼ ì‹¤í˜„í•  ìˆ˜ ìˆëŠ” ì •ì˜ì˜ ì›ì¹™ê³¼ ì œë„ì— ëŒ€í•œ ë‹¤ì–‘í•œ ì˜ê²¬ë“¤ì„ ë¯¼ì£¼ì ì¸ ë°©ì‹ìœ¼ë¡œ ì¢…í•©í•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Book_JusticeForKids .
edu:ST_9do03-05 a edu:Standard ; dc:identifier "9ë„03-05" ; skos:definition "êµ­ê°€ì™€ ì‹œë¯¼ ì‚¬ì´ì—ì„œ ë°œìƒí•˜ëŠ” ìœ¤ë¦¬ì  ìŸì ë“¤ì„ íƒêµ¬í•˜ê³ , êµ­ê°€ì™€ ì‹œë¯¼ ì‚¬ì´ì˜ ë°”ëŒì§í•œ ê´€ê³„ì— ê¸°ì´ˆí•˜ì—¬ êµ­ê°€ì™€ ì‹œë¯¼ì˜ ì—­í• ì„ ì¬êµ¬ì„±í•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Movie_TheAttorney .
edu:ST_9do03-06 a edu:Standard ; dc:identifier "9ë„03-06" ; skos:definition "ì¸ë¥˜ì˜ ê³ í†µì— ê³µê°í•˜ë©° ì§€êµ¬ì  ì°¨ì›ì˜ ë‹¤ì–‘í•œ ë„ë• ë¬¸ì œë“¤ì„ íƒêµ¬í•˜ê³ , í•´ê²° ë°©ì•ˆì„ ëª¨ìƒ‰í•˜ì—¬ ì‹¤ì²œí•˜ëŠ” ìì„¸ë¥¼ ê°–ëŠ”ë‹¤." ; edu:recommendedResource res:Docu_Anthropocene .
edu:ST_9do03-07 a edu:Standard ; dc:identifier "9ë„03-07" ; skos:definition "í˜„ëŒ€ ê³¼í•™ê¸°ìˆ ê³¼ ê´€ë ¨ëœ ìœ¤ë¦¬ì  ìŸì ì˜ ë¶„ì„ì„ í†µí•´ ê³¼í•™ê¸°ìˆ ì˜ ìœ ìš©ì„±ê³¼ í•œê³„ë¥¼ ì¸ì‹í•˜ê³ , ê³¼í•™ê¸°ìˆ ì˜ ë°”ëŒì§í•œ í™œìš©ì— ê´€í•œ ê´€ì‹¬ê³¼ ì±…ì„ ì˜ì‹ì„ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_BraveNewWorld .
edu:ST_9do04-01 a edu:Standard ; dc:identifier "9ë„04-01" ; skos:definition "ì¸ê°„ ì´ì™¸ì˜ ìƒëª…ì²´ë¥¼ ë„ë•ì ìœ¼ë¡œ ê³ ë ¤í•´ì•¼ í•˜ëŠ” ì´ìœ ë¥¼ ì •ë‹¹í™”í•˜ê³ , ìƒëª…ì„ ê°€ì§„ ì¡´ì¬ë“¤ì´ ê²ªëŠ” ê³ í†µì— ê³µê°í•˜ë©° ìƒëª…ì„ ì†Œì¤‘íˆ ì—¬ê¸°ëŠ” íƒœë„ë¥¼ ê¸°ë¥¸ë‹¤." ; edu:recommendedResource res:Book_LifeRespect .
edu:ST_9do04-02 a edu:Standard ; dc:identifier "9ë„04-02" ; skos:definition "ìì—°ì— ëŒ€í•œ ë™ì–‘ê³¼ ì„œì–‘ì˜ ì£¼ìš” ì…ì¥ë“¤ì„ í† ëŒ€ë¡œ ì¸ê°„ê³¼ ìì—°ì˜ ë°”ëŒì§í•œ ê´€ê³„ë¥¼ ë„ì¶œí•˜ê³ , í™˜ê²½ ìœ„ê¸°ì— ëŒ€í•œ ìœ¤ë¦¬ì  ì±…ì„ì„ êµ¬ì²´í™”í•˜ì—¬ ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." ; edu:recommendedResource res:Movie_Mononoke .

# [í˜„ëŒ€ì‚¬íšŒì™€ ìœ¤ë¦¬]
edu:ST_12hyunyun01-01 a edu:Standard ; dc:identifier "12í˜„ìœ¤01-01" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ìœ¤ë¦¬í•™ì˜ ì„±ê²©ê³¼ íŠ¹ì§•ì„ ë°”íƒ•ìœ¼ë¡œ ìœ¤ë¦¬ì  ì¡´ì¬ë¡œì„œì˜ ì¸ê°„ ë³¸ì„±ì„ ì´í•´í•˜ê³ , í˜„ëŒ€ì‚¬íšŒì˜ ë‹¤ì–‘í•œ ìœ¤ë¦¬ ë¬¸ì œë¥¼ íƒêµ¬ ë° í† ë¡ í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun01-02 a edu:Standard ; dc:identifier "12í˜„ìœ¤01-02" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ë™ì–‘ ë° ì„œì–‘ì˜ ìœ¤ë¦¬ì‚¬ìƒ, ì‚¬íšŒì‚¬ìƒì˜ ì ‘ê·¼ë“¤ì„ ë¹„êµ ë¶„ì„í•˜ê³ , ì´ë¥¼ í˜„ëŒ€ì‚¬íšŒì˜ ë‹¤ì–‘í•œ ìœ¤ë¦¬ ë¬¸ì œì™€ ìŸì ì— ì ìš©í•˜ì—¬ ìœ¤ë¦¬ì  í•´ê²° ë°©ì•ˆì„ ë„ì¶œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun02-01 a edu:Standard ; dc:identifier "12í˜„ìœ¤02-01" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ì‚¶ê³¼ ì£½ìŒì„ ë™â‹…ì„œì–‘ ìœ¤ë¦¬ì˜ ì…ì¥ì—ì„œ ì„±ì°°í•˜ê³ , í˜„ëŒ€ì‚¬íšŒì—ì„œ ë°œìƒí•˜ëŠ” ìƒëª…ìœ¤ë¦¬ ë¬¸ì œë¥¼ ë‹¤ì–‘í•œ ìœ¤ë¦¬ì  ê´€ì ì—ì„œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun02-02 a edu:Standard ; dc:identifier "12í˜„ìœ¤02-02" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ì‚¬ë‘ê³¼ ì„±ì— ê´€í•œ ë‹¤ì–‘í•œ ì…ì¥ê³¼ ì„±ì°¨ë³„ì˜ ìœ¤ë¦¬ì  ë¬¸ì œë¥¼ ì´í•´í•˜ê³ , í˜„ëŒ€ì‚¬íšŒì˜ ê²°í˜¼ ë° ê°€ì¡± ë¬¸ì œë¥¼ ìœ¤ë¦¬ì  ê´€ì ì—ì„œ íƒêµ¬í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun02-03 a edu:Standard ; dc:identifier "12í˜„ìœ¤02-03" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ìì—°ì„ ë°”ë¼ë³´ëŠ” ë™â‹…ì„œì–‘ì˜ ê´€ì ì„ ë¹„êµâ‹…ì„¤ëª…í•  ìˆ˜ ìˆìœ¼ë©° ì˜¤ëŠ˜ë‚  í™˜ê²½ ë¬¸ì œì˜ ì‚¬ë¡€ì™€ ì‹¬ê°ì„±ì„ ì¡°ì‚¬í•˜ê³ , ì´ì— ëŒ€í•œ ìœ¤ë¦¬ì  í•´ê²° ë°©ì•ˆì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun03-01 a edu:Standard ; dc:identifier "12í˜„ìœ¤03-01" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ê³¼í•™ê¸°ìˆ  ì—°êµ¬ì— ëŒ€í•œ ë‹¤ì–‘í•œ ê´€ì ì„ ì¡°ì‚¬í•˜ì—¬ ë¹„êµâ‹…ì„¤ëª…í•  ìˆ˜ ìˆìœ¼ë©° ì´ë¥¼ ê³¼í•™ê¸°ìˆ ì˜ ì‚¬íšŒì  ì±…ì„ ë¬¸ì œì— ì ìš©í•˜ì—¬ ë¹„íŒ ë˜ëŠ” ì •ë‹¹í™”í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun03-02 a edu:Standard ; dc:identifier "12í˜„ìœ¤03-02" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ì •ë³´í†µì‹  ê¸°ìˆ ê³¼ ë‰´ë¯¸ë””ì–´ì˜ ë°œë‹¬ì— ë”°ë¥¸ ìœ¤ë¦¬ ë¬¸ì œë“¤ì„ ì œì‹œí•  ìˆ˜ ìˆìœ¼ë©° ì´ì— ëŒ€í•œ í•´ê²° ë°©ì•ˆì„ ì •ë³´ìœ¤ë¦¬ì™€ ë¯¸ë””ì–´ ìœ¤ë¦¬ì˜ ê´€ì ì—ì„œ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun03-03 a edu:Standard ; dc:identifier "12í˜„ìœ¤03-03" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ìœ¤ë¦¬ì ì¸ ì¸ê³µì§€ëŠ¥ì„ ìœ„í•˜ì—¬ ì¸ê°„ê³¼ ì¸ê³µì§€ëŠ¥ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•˜ê³ , ì¸ê³µì§€ëŠ¥ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ìœ¤ë¦¬ ë¬¸ì œì˜ í•´ê²° ë°©ì•ˆì„ ì¸ê³µì§€ëŠ¥ ìœ¤ë¦¬ì˜ ê´€ì ì—ì„œ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun04-01 a edu:Standard ; dc:identifier "12í˜„ìœ¤04-01" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ì§ì—…ì˜ ì˜ì˜ì™€ ë‹¤ì–‘í•œ ì§ì—…êµ°ì— ë”°ë¥¸ ì§ì—…ìœ¤ë¦¬ë¥¼ ì œì‹œí•  ìˆ˜ ìˆìœ¼ë©° ê³µë™ì²´ ë°œì „ì„ ìœ„í•œ ì²­ë ´í•œ ì‚¶ê³¼ ë…¸ë™ì˜ ê°€ì¹˜ì— ëŒ€í•œ ì‚¬íšŒì  ì¡´ì¤‘ì˜ í•„ìš”ì„±ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun04-02 a edu:Standard ; dc:identifier "12í˜„ìœ¤04-02" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ê°œì¸ì„ ê³¼ ê³µë™ì„ ì˜ ì¡°í™”ê°€ í•„ìš”í•œ ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆìœ¼ë©°, ì‹œë¯¼ì˜ ì •ì¹˜ì°¸ì—¬ í•„ìš”ì„±ê³¼ ì‹œë¯¼ë¶ˆë³µì¢…ì˜ ì¡°ê±´ ë° ì •ë‹¹ì„±ì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun04-03 a edu:Standard ; dc:identifier "12í˜„ìœ¤04-03" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ê³µì •í•œ ë¶„ë°°ë¥¼ ì´ë£¨ê¸° ìœ„í•œ ì •ì±…ì„ ë¶„ë°° ì •ì˜ ì´ë¡ ì„ í†µí•´ ë¹„íŒ ë˜ëŠ” ì •ë‹¹í™”í•  ìˆ˜ ìˆìœ¼ë©°, ì‚¬í˜• ì œë„ì™€ í˜•ë²Œì„ êµì •ì  ì •ì˜ì˜ ê´€ì ì—ì„œ ë¹„íŒ ë˜ëŠ” ì •ë‹¹í™”í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun05-01 a edu:Standard ; dc:identifier "12í˜„ìœ¤05-01" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ë¯¸ì  ê°€ì¹˜ì™€ ìœ¤ë¦¬ì  ê°€ì¹˜ë¥¼ ì˜ˆìˆ ê³¼ ë„ë•ì˜ ê´€ê³„ ì°¨ì›ì—ì„œ ì„¤ëª…í•  ìˆ˜ ìˆìœ¼ë©° í˜„ëŒ€ì˜ ëŒ€ì¤‘ë¬¸í™”ì˜ ìˆœê¸°ëŠ¥ê³¼ ì—­ê¸°ëŠ¥ì„ ìœ¤ë¦¬ì  ê´€ì ì—ì„œ ì´í•´í•˜ê³  ì„±ì°°í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun05-02 a edu:Standard ; dc:identifier "12í˜„ìœ¤05-02" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ì˜ì‹ì£¼ ìƒí™œê³¼ ê´€ë ¨ëœ ìœ¤ë¦¬ ë¬¸ì œì™€ ê²½ì œìƒí™œì—ì„œ ë°œìƒí•˜ëŠ” ë„ë•ì  ì„ ê³¼ ì´ìœ¤ ì¶”êµ¬ ì‚¬ì´ì˜ ê°ˆë“± ë° ì†Œë¹„ë¬¸í™”ì˜ ë¬¸ì œì ì„ ìœ¤ë¦¬ì  ê´€ì ì—ì„œ ë¹„íŒí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun05-03 a edu:Standard ; dc:identifier "12í˜„ìœ¤05-03" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ë‹¤ë¬¸í™” ì´ë¡ ì„ í†µí•´ ë¬¸í™”ì˜ ë‹¤ì–‘ì„±ì„ ì¡´ì¤‘í•´ì•¼ í•  í•„ìš”ì„±ì„ ì¸ì‹í•˜ê³  ì¢…êµ ê°ˆë“±, ì´ì£¼ë¯¼ ì°¨ë³„ ë“±ê³¼ ê°™ì€ ë‹¤ë¬¸í™” ê´€ë ¨ ë¬¸ì œì˜ í•´ê²° ë°©ì•ˆì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun06-01 a edu:Standard ; dc:identifier "12í˜„ìœ¤06-01" ; dc:subject edu:ModernSocietyEthics ; skos:definition "ë‹¤ì–‘í•œ ì‚¬íšŒì  ê°ˆë“±ì˜ ì–‘ìƒì„ ì œì‹œí•˜ê³  ë™â‹…ì„œì–‘ì˜ ìœ¤ë¦¬ ì´ë¡ ì„ ë°”íƒ•ìœ¼ë¡œ ì‚¬íšŒí†µí•©ì„ ìœ„í•œ ë°©ì•ˆì„ ì œì•ˆí•  ìˆ˜ ìˆìœ¼ë©°, ë°”ëŒì§í•œ ì†Œí†µê³¼ ë‹´ë¡ ì„ ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun06-02 a edu:Standard ; dc:identifier "12í˜„ìœ¤06-02" ; dc:subject edu:ModernSocietyEthics ; skos:definition "í•œë°˜ë„ì˜ í†µì¼ê³¼ í‰í™”ì— ê´€í•œ ìŸì ì„ ê°ê´€ì ìœ¼ë¡œ ì´í•´í•˜ê³ , ë³´í¸ì ì¸ ìœ¤ë¦¬ì  ê°€ì¹˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‚¨ë¶í•œì˜ í™”í•´ë¥¼ ìœ„í•œ ê°œì¸ì â‹…êµ­ê°€ì  ë…¸ë ¥ì„ êµ¬ì²´ì ìœ¼ë¡œ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12hyunyun06-03 a edu:Standard ; dc:identifier "12í˜„ìœ¤06-03" ; dc:subject edu:ModernSocietyEthics ; skos:definition "êµ­ì œ ì‚¬íšŒì˜ ìœ¤ë¦¬ ë¬¸ì œë¥¼ êµ­ì œ ì •ì˜ì˜ ê´€ì ì—ì„œ ë¹„íŒì ìœ¼ë¡œ ì„¤ëª…í•˜ê³ , êµ­ì œ ì‚¬íšŒì— ëŒ€í•œ ì±…ì„ê³¼ ê¸°ì—¬ë¥¼ ìœ¤ë¦¬ì  ê´€ì ì—ì„œ ì •ë‹¹í™”í•˜ê³  ì‹¤ì²œ ë°©ì•ˆì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .

# [ìœ¤ë¦¬ì™€ ì‚¬ìƒ]
edu:ST_12yunsa01-01 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬01-01" ; dc:subject edu:EthicsAndThought ; skos:definition "ê³µìì‚¬ìƒì— ë°”íƒ•í•˜ì—¬ ë§¹ìì™€ ìˆœì, ì£¼í¬ì™€ ì™•ìˆ˜ì¸ì˜ ì¸ì„±ë¡ ì„ ë¹„êµí•˜ê³ , ì¸ê°„ ë³¸ì„±ì˜ ì…ì¥ì— ë”°ë¥¸ ìœ¤ë¦¬ì  ì‚¶ì˜ ëª©í‘œ ë° ë°©ë²•ë¡ ì˜ ì°¨ì´ì™€ ê·¸ ì˜ì˜ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa01-02 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬01-02" ; dc:subject edu:EthicsAndThought ; skos:definition "ë…¸ìì˜ ìœ ë¬´ìƒìƒâ‹…ë¬´ìœ„ìì—° ì‚¬ìƒê³¼ ì¥ìì˜ ì†Œìš”ìœ â‹…ì œë¬¼ë¡ ì˜ ì˜ì˜ë¥¼ ì´í•´í•˜ê³ , ì„œë¡œ ë‹¤ë¥¸ ê²ƒë“¤ ê°„ì˜ ì–´ìš¸ë¦¼ì„ í†µí•œ ì§„ì •í•œ í‰í™”ì— ëŒ€í•´ ì„±ì°°í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa01-03 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬01-03" ; dc:subject edu:EthicsAndThought ; skos:definition "ë¶ˆêµì˜ ì‚¬ì„±ì œì™€ ìë¹„ë¥¼ ì´í•´í•˜ê³ , ê´´ë¡œì›€ì„ ê·¹ë³µí•˜ëŠ” ë°©ë²•ì„ ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa02-01 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬02-01" ; dc:subject edu:EthicsAndThought ; skos:definition "ì›íš¨ì˜ í™”ìŸì‚¬ìƒ, ì˜ì²œê³¼ ì§€ëˆŒì˜ ì„ â‹…êµ í†µí•© ì‚¬ìƒì´ ë¶ˆêµì˜ ëŒ€ë¦½ì„ ì–´ë–»ê²Œ í™”í•´ì‹œì¼°ëŠ”ì§€ íƒêµ¬í•˜ê³ , í•œêµ­ë¶ˆêµì˜ íŠ¹ì„±ê³¼ í†µí•©ì •ì‹ ì˜ ì¤‘ìš”ì„±ì„ íŒŒì•…í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa02-02 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬02-02" ; dc:subject edu:EthicsAndThought ; skos:definition "ë„ë• ê°ì •ì˜ ë°œí˜„ ê³¼ì •ì— ëŒ€í•œ í‡´ê³„ì™€ ìœ¨ê³¡ì˜ ì£¼ì¥ì„ ê·¸ ì´ìœ ì™€ í•¨ê»˜ ë¹„êµâ‹…ê³ ì°°í•˜ê³ , ì¼ìƒì˜ ê°ì •ì„ ë„ë•ì ìœ¼ë¡œ ì¡°ì ˆí•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa02-03 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬02-03" ; dc:subject edu:EthicsAndThought ; skos:definition "ë‚¨ëª…ê³¼ í•˜ê³¡, ë‹¤ì‚°ì˜ ì‚¬ìƒì„ í†µí•´ ì•ê³¼ í•¨ì˜ ê´€ê³„ì— ëŒ€í•˜ì—¬ ì„±ì°°í•˜ê³ , ìœ¤ë¦¬ì  ì‹¤ì²œ ë°©ì•ˆì„ ì œì•ˆí•˜ì—¬ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa03-01 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬03-01" ; dc:subject edu:EthicsAndThought ; skos:definition "ì„œì–‘ ìœ¤ë¦¬ì‚¬ìƒì˜ ì¶œë°œì ì—ì„œ ë‚˜íƒ€ë‚œ ë³´í¸ìœ¤ë¦¬, ì˜í˜¼ì˜ ì¡°í™”, ì„±í’ˆì˜ íƒì›”ì„±ì˜ íŠ¹ì§•ì„ íŒŒì•…í•˜ê³ , ë•ê³¼ í–‰ë³µì˜ ê´€ê³„ì— ëŒ€í•˜ì—¬ ì„±ì°°í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa03-02 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬03-02" ; dc:subject edu:EthicsAndThought ; skos:definition "í–‰ë³µ ì¶”êµ¬ì— ëŒ€í•œ ì¾Œë½ì£¼ì˜ì™€ ê¸ˆìš•ì£¼ì˜ì˜ ì…ì¥ì„ ë¹„êµí•˜ì—¬ ê³ ì°°í•˜ê³ , ì§„ì •í•œ í–‰ë³µì„ ìœ„í•œ ìœ¤ë¦¬ì  ì‹¤ì²œ ë°©ë²•ì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa03-03 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬03-03" ; dc:subject edu:EthicsAndThought ; skos:definition "ê·¸ë¦¬ìŠ¤ë„êµì˜ ì‚¬ë‘ì˜ ìœ¤ë¦¬ë¡œì„œì˜ íŠ¹ì§•ì„ íŒŒì•…í•˜ê³ , ìì—°ë²• ìœ¤ë¦¬ ë° í”„ë¡œí…ŒìŠ¤íƒ„í‹°ì¦˜ ìœ¤ë¦¬ì— ë‚˜íƒ€ë‚œ ì‹ ì•™ê³¼ ìœ¤ë¦¬ì˜ ê´€ê³„ë¥¼ ì„±ì°°í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa03-04 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬03-04" ; dc:subject edu:EthicsAndThought ; skos:definition "ì˜³ê³  ê·¸ë¦„ì˜ ê¸°ì¤€ì— ëŒ€í•œ ì˜ë¬´ë¡ ê³¼ ê²°ê³¼ë¡ ì„ ë¹„êµâ‹…ë¶„ì„í•˜ê³ , ì˜³ê³  ê·¸ë¦„ì— ëŒ€í•œ ìœ¤ë¦¬ì  ê´€ì ì„ ì •ë‹¹í™”í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa03-05 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬03-05" ; dc:subject edu:EthicsAndThought ; skos:definition "ì‹¤ì¡´ì£¼ì˜ì™€ ì‹¤ìš©ì£¼ì˜, ë„ë•ì˜ ê¸°ì›ê³¼ íŒë‹¨ì— ê´€í•œ ê³¼í•™ì  íƒêµ¬ë¥¼ ë¹„íŒì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ì±…ì„â‹…ë°°ë ¤ ìœ¤ë¦¬ì— ëŒ€í•œ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìœ¤ë¦¬ì  ì‚¶ì˜ ì˜ë¯¸ì™€ ì§€í–¥ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa04-01 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬04-01" ; dc:subject edu:EthicsAndThought ; skos:definition "ë™â‹…ì„œì–‘ì˜ ë‹¤ì–‘í•œ êµ­ê°€ê´€ì„ ë¹„êµâ‹…ê³ ì°°í•˜ê³ , ì˜¤ëŠ˜ë‚ ì˜ ê´€ì ì—ì„œ êµ­ê°€ì˜ ì—­í• ê³¼ ì •ë‹¹ì„±ì— ëŒ€í•œ ì²´ê³„ì ì¸ ì‹œê°ì„ í˜•ì„±í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa04-02 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬04-02" ; dc:subject edu:EthicsAndThought ; skos:definition "ì‹œë¯¼ì˜ ììœ ì™€ ê¶Œë¦¬, ê³µì  ì‚¶ê³¼ ì •ì¹˜ì°¸ì—¬ì— ëŒ€í•œ ììœ ì£¼ì˜ì™€ ê³µí™”ì£¼ì˜ì˜ ê´€ì ì„ ë¹„êµâ‹…ê³ ì°°í•˜ê³ , ì‹œë¯¼ê³¼ ê³µë™ì²´ì˜ ë°”ëŒì§í•œ ê´€ê³„ë¥¼ ëª¨ìƒ‰í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa04-03 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬04-03" ; dc:subject edu:EthicsAndThought ; skos:definition "ê·¼ëŒ€ ëŒ€ì˜ë¯¼ì£¼ì£¼ì˜ì˜ ëŒ€ì•ˆìœ¼ë¡œ ë“±ì¥í•œ ì°¸ì—¬ë¯¼ì£¼ì£¼ì˜ì™€ ì‹¬ì˜ë¯¼ì£¼ì£¼ì˜ì˜ ì¥ë‹¨ì ì„ ë¶„ì„í•˜ê³ , ë¯¼ì£¼ì£¼ì˜ì˜ ì´ìƒì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì‹¤ì²œ ë°©ë²•ì„ ì œì‹œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12yunsa04-04 a edu:Standard ; dc:identifier "12ìœ¤ì‚¬04-04" ; dc:subject edu:EthicsAndThought ; skos:definition "ìë³¸ì£¼ì˜ì˜ í˜„ì‹¤ì  ê¸°ì—¬ì™€ í•œê³„ì— ëŒ€í•´ ì¡°ì‚¬â‹…ë¶„ì„í•˜ê³ , ë™â‹…ì„œì–‘ì˜ ì‚¬íšŒì‚¬ìƒì  ì¸¡ë©´ì—ì„œ ìë³¸ì£¼ì˜ì˜ ê°œì„  ë°©í–¥ì— ê´€í•´ íƒêµ¬í•  ìˆ˜ ìˆë‹¤." .

# [ì¸ë¬¸í•™ê³¼ ìœ¤ë¦¬]
edu:ST_12inyun01-01 a edu:Standard ; dc:identifier "12ì¸ìœ¤01-01" ; dc:subject edu:HumanitiesEthics ; skos:definition "ë‚´ ëª¸ê³¼ ë§ˆìŒì˜ ê´€ê³„ë¥¼ íƒêµ¬í•˜ê³ , ì‹¬ì‹ ì˜ í†µí•©ì„±ì„ ìê°í•˜ì—¬ ë„ë•ì  ì£¼ì²´ë¡œì„œ ìì‹ ì„ ì´í•´í•˜ê³  ì¡´ì¤‘í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun01-02 a edu:Standard ; dc:identifier "12ì¸ìœ¤01-02" ; dc:subject edu:HumanitiesEthics ; skos:definition "ì‚¶ì˜ ì£¼ì²´ì¸ ë‚˜ì— ëŒ€í•œ ì„±ì°°ì„ ë°”íƒ•ìœ¼ë¡œ ê³ í†µê³¼ ì¾Œë½ì˜ ê·¼ì› ë° ì–‘ìƒì„ íƒêµ¬í•˜ì—¬, ê³ í†µê³¼ ì¾Œë½ì— ì§€í˜œë¡­ê²Œ ëŒ€ì²˜í•˜ëŠ” ìì„¸ë¥¼ ê°–ì¶œ ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun02-01 a edu:Standard ; dc:identifier "12ì¸ìœ¤02-01" ; dc:subject edu:HumanitiesEthics ; skos:definition "ê´€ê³„ ì†ì—ì„œ ì‚´ì•„ê°€ëŠ” ë‚˜ì— ëŒ€í•œ ì„±ì°°ì„ í†µí•´ ìƒí˜¸ì„±ì„ ë§Œë½í•˜ëŠ” ì‚¶ì„ ëª¨ìƒ‰í•˜ê³  ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun02-02 a edu:Standard ; dc:identifier "12ì¸ìœ¤02-02" ; dc:subject edu:HumanitiesEthics ; skos:definition "ìš°ì •ê³¼ ì‚¬ë‘ì˜ ì˜ë¯¸ë¥¼ íƒêµ¬í•˜ê³ , í–‰ë³µí•œ ì‚¶ì˜ ê¸°ë°˜ì¸ ì§„ì •í•œ ìš°ì •ê³¼ ì°¸ëœ ì‚¬ë‘ì˜ ê´€ê³„ë¥¼ í˜•ì„±í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun03-01 a edu:Standard ; dc:identifier "12ì¸ìœ¤03-01" ; dc:subject edu:HumanitiesEthics ; skos:definition "ë™â‹…ì„œì–‘ì—ì„œ ë°”ë¼ë³´ëŠ” ììœ ì™€ í‰ë“±ì˜ ì˜ë¯¸ì™€ ê·¼ê±°ë¥¼ ì•Œê³ , ììœ ë¡­ê³  í‰ë“±í•œ ì‚¬ëŒì˜ ëª¨ìŠµì„ íƒêµ¬í•˜ì—¬ ì±…ì„ ìˆëŠ” ì‚¶ì˜ ìì„¸ë¥¼ ì¶”êµ¬í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun03-02 a edu:Standard ; dc:identifier "12ì¸ìœ¤03-02" ; dc:subject edu:HumanitiesEthics ; skos:definition "ë¶ˆí‰ë“±ì´ ë°œìƒí•˜ëŠ” ì›ì¸ ë° ì‹¤ì§ˆì  ê¸°íšŒê· ë“±ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì¡°ê±´ì„ íƒêµ¬í•˜ì—¬, ììœ ë¡­ê³  í‰ë“±í•œ ì‚¶ì„ ìœ„í•œ ì •ì˜ì˜ ì›ì¹™ì„ ë„ì¶œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun04-01 a edu:Standard ; dc:identifier "12ì¸ìœ¤04-01" ; dc:subject edu:HumanitiesEthics ; skos:definition "ì„œë¡œ ë‹¤ë¥¸ ì˜ê²¬ë“¤ì´ ë°œìƒí•˜ê³  ì¶©ëŒí•˜ëŠ” ì–‘ìƒê³¼ ì´ìœ ë¥¼ íŒŒì•…í•˜ê³ , ë¯¼ì£¼ì ì¸ ë°©ì‹ìœ¼ë¡œ ë‹¤ì–‘í•œ ì˜ê²¬ì„ í¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì ˆì°¨ë¥¼ ëª¨ìƒ‰í•˜ì—¬ ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun04-02 a edu:Standard ; dc:identifier "12ì¸ìœ¤04-02" ; dc:subject edu:HumanitiesEthics ; skos:definition "ê°€ìƒì„¸ê³„ì™€ í˜„ì‹¤ì„¸ê³„ì˜ ê°™ê³  ë‹¤ë¥¸ ì ì´ ë¬´ì—‡ì¸ì§€ íƒêµ¬í•˜ê³ , ê°€ìƒì„¸ê³„ì—ì„œë„ ìì‹ ê³¼ íƒ€ì¸ì„ ì¡´ì¤‘í•˜ëŠ” ìì„¸ë¥¼ ê°–ì¶œ ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun05-01 a edu:Standard ; dc:identifier "12ì¸ìœ¤05-01" ; dc:subject edu:HumanitiesEthics ; skos:definition "ìì•„ì‹¤í˜„ê³¼ ì§ì—…ìƒí™œì˜ ìƒí˜¸ì„±ì„ ì´í•´í•˜ê³ , ì‚¶ì˜ ë°©ì‹ìœ¼ë¡œì„œ ì†Œìœ ì™€ ì¡´ì¬ì˜ ì˜ë¯¸ë¥¼ íƒêµ¬í•˜ì—¬ ë‚˜ì™€ íƒ€ì¸ì˜ ì´ìµì„ ì¡°í™”ë¡­ê²Œ ì¶”êµ¬í•˜ëŠ” ì‚¶ì˜ íƒœë„ë¥¼ í•¨ì–‘í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun05-02 a edu:Standard ; dc:identifier "12ì¸ìœ¤05-02" ; dc:subject edu:HumanitiesEthics ; skos:definition "ê¸°í›„ìœ„ê¸° ë¬¸ì œë¥¼ ë¹„íŒì ìœ¼ë¡œ ì¸ì‹í•˜ê³ , ì§€ì†ê°€ëŠ¥í•œ ì‚¶ì„ ìœ„í•´ ì¸ê°„ê³¼ ìì—°ì— ëŒ€í•œ ì´ë¶„ë²•ì  ê´€ì ì„ ë„˜ì–´ì„  ìƒìƒì˜ ì›ì¹™ë“¤ì„ ìˆ˜ë¦½í•˜ì—¬ ì¼ìƒì—ì„œ ì‹¤ì²œí•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun06-01 a edu:Standard ; dc:identifier "12ì¸ìœ¤06-01" ; dc:subject edu:HumanitiesEthics ; skos:definition "ì¸ê°„ì˜ ë¶ˆì™„ì „ì„±ì— ëŒ€í•œ ì„±ì°°ì„ ë°”íƒ•ìœ¼ë¡œ ë¶ˆì•ˆí•œ í˜„ëŒ€ì‚¬íšŒë¥¼ ì‚´ì•„ê°€ëŠ” ë° ìˆì–´ ì¢…êµì˜ ì—­í• ê³¼ ê°€ì¹˜ë¥¼ íƒêµ¬í•˜ì—¬, ì¢…êµì— ëŒ€í•œ ë°”ëŒì§í•œ ê´€ì ì„ ì •ë¦½í•  ìˆ˜ ìˆë‹¤." .
edu:ST_12inyun06-02 a edu:Standard ; dc:identifier "12ì¸ìœ¤06-02" ; dc:subject edu:HumanitiesEthics ; skos:definition "ì¸ìƒì˜ ìœ í•œì„±ì„ ìê°í•˜ê³ , ìì•„ì— ëŒ€í•œ ì„±ì°° ë° ë‹¤ì–‘í•œ ê°€ì¹˜ íƒìƒ‰ì„ í†µí•˜ì—¬ ë‚´ ì‚¶ì˜ ì˜ë¯¸ë¥¼ ë¬»ê³  ë‹µì„ ì°¾ì•„ê°€ëŠ” ë„ë•ì  ì£¼ì²´ë¡œì„œ ì‚´ì•„ê°ˆ ìˆ˜ ìˆë‹¤." .

# --- Resources ---
res:Book_SuperTurtle a edu:LearningResource ; dc:title "ìŠˆí¼ ê±°ë¶" ; dc:creator "ìœ ì„¤í™”" ; dc:type "ë„ì„œ" .
res:Book_GoldenSlumber a edu:LearningResource ; dc:title "ê³¨ë“  ìŠ¬ëŸ¼ë²„" ; dc:creator "ì´ì‚¬ì¹´ ì½”íƒ€ë¡œ" ; dc:type "ë„ì„œ" .
res:Movie_HectorHappiness a edu:LearningResource ; dc:title "ê¾¸ë»¬ ì”¨ì˜ í–‰ë³µì—¬í–‰" ; dc:type "ì˜í™”" .
res:Book_JusticeForYouth a edu:LearningResource ; dc:title "ì •ì˜ë€ ë¬´ì—‡ì¸ê°€(ì²­ì†Œë…„)" ; dc:creator "ë§ˆì´í´ ìƒŒë¸" ; dc:type "ë„ì„œ" .
res:Book_TuesdaysWithMorrie a edu:LearningResource ; dc:title "ëª¨ë¦¬ì™€ í•¨ê»˜í•œ í™”ìš”ì¼" ; dc:creator "ë¯¸ì¹˜ ì•¨ë´„" ; dc:type "ë„ì„œ" .
res:Book_MindManagement a edu:LearningResource ; dc:title "ê¸°ë¶„ì„ ê´€ë¦¬í•˜ë©´ ì¸ìƒì´ ê´€ë¦¬ëœë‹¤" ; dc:creator "ë‚¨ì¸ìˆ™" ; dc:type "ë„ì„œ" .
res:Movie_Hudsucker a edu:LearningResource ; dc:title "í—ˆë“œì„œì»¤ ëŒ€ë¦¬ì¸" ; dc:type "ì˜í™”" .
res:Movie_InsideOut a edu:LearningResource ; dc:title "ì¸ì‚¬ì´ë“œ ì•„ì›ƒ" ; dc:type "ì˜í™”" .
res:Book_FriendLegend a edu:LearningResource ; dc:title "ì¹œêµ¬ì˜ ì „ì„¤" ; dc:creator "ì´ì§€ì€" ; dc:type "ë„ì„œ" .
res:Docu_SocialDilemma a edu:LearningResource ; dc:title "ì†Œì…œ ë”œë ˆë§ˆ" ; dc:type "ë‹¤íë©˜í„°ë¦¬" .
res:Book_Wonder a edu:LearningResource ; dc:title "ì›ë”" ; dc:creator "R.J. íŒ”ë¼ì‹œì˜¤" ; dc:type "ë„ì„œ" .
res:Book_Piggybook a edu:LearningResource ; dc:title "ë¼ì§€ì±…" ; dc:creator "ì•¤ì„œë‹ˆ ë¸Œë¼ìš´" ; dc:type "ë„ì„œ" .
res:Book_PaperBagPrincess a edu:LearningResource ; dc:title "ì¢…ì´ ë´‰ì§€ ê³µì£¼" ; dc:creator "ë¡œë²„íŠ¸ ë¨¼ì¹˜" ; dc:type "ë„ì„œ" .
res:Book_HumanRights a edu:LearningResource ; dc:title "ë¬´ê¸°ë ¥í•œ ì¸ê¶Œì€ ê°€ë¼" ; dc:type "ë„ì„œ" .
res:Book_TrueStoryWolf a edu:LearningResource ; dc:title "ëŠ‘ëŒ€ê°€ ë“¤ë ¤ì£¼ëŠ” ì•„ê¸° ë¼ì§€ ì‚¼í˜•ì œ" ; dc:creator "ì¡´ ì…°ìŠ¤ì¹´" ; dc:type "ë„ì„œ" .
res:Movie_AsOne a edu:LearningResource ; dc:title "ì½”ë¦¬ì•„" ; dc:type "ì˜í™”" .
res:Book_JusticeForKids a edu:LearningResource ; dc:title "ì–´ë¦°ì´ë¥¼ ìœ„í•œ ì •ì˜ë€ ë¬´ì—‡ì¸ê°€" ; dc:type "ë„ì„œ" .
res:Movie_TheAttorney a edu:LearningResource ; dc:title "ë³€í˜¸ì¸" ; dc:type "ì˜í™”" .
res:Docu_Anthropocene a edu:LearningResource ; dc:title "ì¸ë¥˜ì„¸" ; dc:type "ë‹¤íë©˜í„°ë¦¬" .
res:Book_BraveNewWorld a edu:LearningResource ; dc:title "ë©‹ì§„ ì‹ ì„¸ê³„" ; dc:creator "ì˜¬ë”ìŠ¤ í—‰ìŠ¬ë¦¬" ; dc:type "ë„ì„œ" .
res:Book_LifeRespect a edu:LearningResource ; dc:title "ì‚´ì•„ìˆëŠ” ëª¨ë“  ê²ƒë“¤ì— ëŒ€í•œ ì˜ˆì˜" ; dc:type "ë„ì„œ" .
res:Movie_Mononoke a edu:LearningResource ; dc:title "ëª¨ë…¸ë…¸ì¼€ íˆë©”" ; dc:type "ì˜í™”" .
`;

        let allStandards = [];
        let resourcesMap = {};

        function initData() {
            allStandards = [];
            resourcesMap = {};
            Object.values(subjectsList).forEach(s => s.items = []);

            // 1. Resources
            const resourceRegex = /res:([^ ]+) a edu:LearningResource .*?dc:title "([^"]+)"/g;
            let resMatch;
            while ((resMatch = resourceRegex.exec(ttlData)) !== null) {
                resourcesMap['res:' + resMatch[1]] = resMatch[2];
            }

            // 2. Standards
            const lines = ttlData.split('\n');
            let currentStandard = null;

            lines.forEach(line => {
                line = line.trim();
                if (!line || line.startsWith('#') || line.startsWith('@prefix')) return;

                if (line.match(/^edu:ST_/)) {
                    if (currentStandard) saveStandard(currentStandard);
                    currentStandard = { id: line.split(' ')[0], definition: '', code: '', subjectId: '', resourceId: '' };
                }

                if (currentStandard) {
                    if (line.includes('dc:identifier')) currentStandard.code = line.match(/dc:identifier "([^"]+)"/)[1];
                    if (line.includes('skos:definition')) currentStandard.definition = line.match(/skos:definition "([^"]+)"/)[1];
                    if (line.includes('dc:subject')) currentStandard.subjectId = line.match(/dc:subject (edu:[^ ;]+)/)[1];
                    if (line.includes('edu:recommendedResource')) {
                        const m = line.match(/edu:recommendedResource (res:[^ ;.]+)/);
                        if (m) currentStandard.resourceId = m[1];
                    }
                    if (line.endsWith('.')) {
                        saveStandard(currentStandard);
                        currentStandard = null;
                    }
                }
            });
            if (currentStandard) saveStandard(currentStandard);

            initGraph();
        }

        function saveStandard(std) {
            if (!std.code) return;
            if (!std.subjectId) {
                if (std.code.startsWith('9ë„')) std.subjectId = 'edu:MiddleSchoolEthics';
                else if (std.code.startsWith('12í˜„ìœ¤')) std.subjectId = 'edu:ModernSocietyEthics';
                else if (std.code.startsWith('12ìœ¤ì‚¬')) std.subjectId = 'edu:EthicsAndThought';
                else if (std.code.startsWith('12ì¸ìœ¤')) std.subjectId = 'edu:HumanitiesEthics';
            }
            if (std.subjectId && subjectsList[std.subjectId]) {
                allStandards.push(std);
                subjectsList[std.subjectId].items.push(std);
            }
        }

        function initGraph() {
            const container = document.getElementById('graph-area');
            const width = container.clientWidth;
            const height = container.clientHeight;

            // Prepare Nodes
            let nodes = [{ id: 'Root', label: 'ë„ë•', group: 'root', radius: 45 }];
            let links = [];

            Object.keys(subjectsList).forEach(key => {
                nodes.push({ id: key, label: subjectsList[key].label.replace(/\\n/g, ' '), group: 'subject', radius: 35, color: subjectsList[key].color });
                links.push({ source: 'Root', target: key });
            });

            allStandards.forEach(std => {
                const subColor = subjectsList[std.subjectId] ? subjectsList[std.subjectId].color : '#94a3b8';
                nodes.push({ id: std.id, label: std.code, definition: std.definition, group: 'standard', radius: 8, color: subColor });
                if (std.subjectId) links.push({ source: std.subjectId, target: std.id });
            });

            // SVG Setup
            const svg = d3.select('#graph-area').append('svg')
                .attr('width', width)
                .attr('height', height)
                .call(d3.zoom().scaleExtent([0.1, 5]).on("zoom", (event) => g.attr("transform", event.transform)));

            // Glow Definition
            const defs = svg.append('defs');
            const glowFilter = defs.append('filter').attr('id', 'glow');
            glowFilter.append('feGaussianBlur').attr('stdDeviation', '4').attr('result', 'coloredBlur');
            const merge = glowFilter.append('feMerge');
            merge.append('feMergeNode').attr('in', 'coloredBlur');
            merge.append('feMergeNode').attr('in', 'SourceGraphic');

            const g = svg.append('g');

            // Force Sim - FLOWER LAYOUT
            const simulation = d3.forceSimulation(nodes)
                // 1. Link Force: Core (Root-Subject) is tight, Petals (Subject-Standard) are loose but grouped
                .force('link', d3.forceLink(links).id(d => d.id).distance(d => {
                    return d.target.group === 'subject' ? 120 : 60;
                }))
                // 2. ManyBody: Strong repulsion for loose petals
                .force('charge', d3.forceManyBody().strength(d => {
                    if (d.group === 'root') return -1000;
                    if (d.group === 'subject') return -500;
                    return -100; // Standards repel each other to fan out
                }))
                // 3. Collide: Prevent overlap, standards pack like petals
                .force('collide', d3.forceCollide().radius(d => d.radius + 4).iterations(3))
                // 4. Radial: Pull standards towards their subject "Orbit"
                .force('radial', d3.forceRadial(d => d.group === 'standard' ? 100 : 0, width / 2, height / 2).strength(0.1))
                .force('center', d3.forceCenter(width / 2, height / 2));

            // Draw Links
            const link = g.append('g').selectAll('line')
                .data(links)
                .join('line')
                .attr('stroke', d => d.target.color || '#cbd5e1')
                .attr('stroke-opacity', d => d.source.group === 'root' ? 0.3 : 0.4)
                .attr('stroke-width', d => d.source.group === 'root' ? 2 : 1);

            // Draw Nodes
            const node = g.append('g').selectAll('.node')
                .data(nodes)
                .join('g')
                .attr('class', 'node')
                .call(drag(simulation));

            // Node Circles
            node.append('circle')
                .attr('r', d => d.radius)
                .attr('fill', d => d.group === 'root' ? '#fff' : (d.color || '#ccc'))
                .style('filter', 'url(#glow)')
                .attr('stroke', '#fff')
                .attr('stroke-width', d => d.group === 'root' ? 4 : (d.group === 'subject' ? 3 : 1))
                .attr('fill-opacity', d => d.group === 'standard' ? 0.9 : 1);

            // Labels
            node.filter(d => d.group !== 'standard')
                .append('text')
                .text(d => d.label)
                .attr('y', d => d.radius + 25)
                .attr('text-anchor', 'middle')
                .attr('fill', '#fff')
                .attr('font-weight', 'bold')
                .attr('font-size', d => d.group === 'root' ? '16px' : '14px')
                .style('pointer-events', 'none')
                .style('text-shadow', '0 2px 4px rgba(0,0,0,1)');

            // Interactions
            node.on('mouseover', (event, d) => {
                const neighbors = new Set([d.id]);
                links.forEach(l => {
                    if (l.source.id === d.id) neighbors.add(l.target.id);
                    if (l.target.id === d.id) neighbors.add(l.source.id);
                });

                node.transition().duration(200).style('opacity', n => neighbors.has(n.id) ? 1 : 0.15);
                link.transition().duration(200).attr('stroke-opacity', l => (l.source.id === d.id || l.target.id === d.id) ? 1 : 0.1);

                if (d.group === 'standard') {
                    showTooltip(event, `<strong style="color:${d.color}">${d.label}</strong><br>${d.definition}`);
                    d3.select(event.currentTarget).select('circle').transition().attr('r', 12).style('stroke', '#fff').style('stroke-width', 2);
                }
            })
                .on('mouseout', (event, d) => {
                    node.transition().duration(200).style('opacity', 1);
                    link.transition().duration(200).attr('stroke-opacity', 0.4); // Reset default opacity
                    hideTooltip();
                    if (d.group === 'standard') {
                        d3.select(event.currentTarget).select('circle').transition().attr('r', 8).style('stroke-width', 1);
                    }
                })
                .on('click', (event, d) => {
                    if (d.group === 'subject') filterBySubject(d.id);
                });

            simulation.on('tick', () => {
                link.attr('x1', d => d.source.x).attr('y1', d => d.source.y).attr('x2', d => d.target.x).attr('y2', d => d.target.y);
                node.attr('transform', d => `translate(${d.x},${d.y})`);
            });
        }

        // Drag
        function drag(sim) {
            return d3.drag()
                .on('start', (event, d) => { if (!event.active) sim.alphaTarget(0.3).restart(); d.fx = d.x; d.fy = d.y; })
                .on('drag', (event, d) => { d.fx = event.x; d.fy = event.y; })
                .on('end', (event, d) => { if (!event.active) sim.alphaTarget(0); d.fx = null; d.fy = null; });
        }

        // Tooltip
        const tooltip = document.getElementById('tooltip');
        function showTooltip(e, html) {
            tooltip.innerHTML = html;
            tooltip.style.opacity = 1;
            tooltip.style.transform = 'translateY(0)';
            tooltip.style.left = Math.min(e.pageX + 20, window.innerWidth - 340) + 'px';
            tooltip.style.top = Math.min(e.pageY + 20, window.innerHeight - 150) + 'px';
        }
        function hideTooltip() {
            tooltip.style.opacity = 0;
            tooltip.style.transform = 'translateY(10px)';
        }

        // Chatbot
        function handleKeyPress(e) { if (e.key === 'Enter') sendMessage(); }
        function sendMessage() {
            const input = document.getElementById('user-input');
            const msg = input.value.trim();
            if (!msg) return;
            addMessage(msg, 'user');
            input.value = '';
            setTimeout(() => {
                const results = searchStandards(msg);
                if (results.length > 0) {
                    let html = `${results.length}ê°œì˜ ê²°ê³¼ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.<br>`;
                    results.forEach(i => {
                        const sub = subjectsList[i.subjectId];
                        const label = sub ? sub.label : '';
                        const hl = i.definition.replace(new RegExp(msg, 'g'), `<span style="color:#fff; background:var(--accent-color); padding:0 2px;">${msg}</span>`);
                        let resHtml = i.resourceId && resourcesMap[i.resourceId] ? `<div style="margin-top:4px; font-size:0.8rem; color:#a5b4fc;">ğŸ“š ${resourcesMap[i.resourceId]}</div>` : '';
                        html += `<span class="result-item"><span class="result-code" style="color:${sub ? sub.color : '#fff'}">[${label}] ${i.code}</span>${hl}${resHtml}</span>`;
                    });
                    addMessage(html, 'bot');
                } else {
                    addMessage('ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤ ğŸ˜…', 'bot');
                }
            }, 300);
        }
        function filterBySubject(id) {
            const s = subjectsList[id];
            addMessage(`<strong style="color:${s.color}">${s.label}</strong> ì„±ì·¨ê¸°ì¤€ì„ ë³´ì—¬ë“œë¦´ê²Œìš”.`, 'user');
            setTimeout(() => {
                let html = `ì „ì²´ ${s.items.length}ê°œ ì„±ì·¨ê¸°ì¤€:<br>`;
                s.items.forEach(i => {
                    let resHtml = i.resourceId && resourcesMap[i.resourceId] ? `<br><span style="font-size:0.8rem; color:#a5b4fc;">ğŸ“š ${resourcesMap[i.resourceId]}</span>` : '';
                    html += `<span class="result-item"><span class="result-code" style="color:${s.color}">${i.code}</span>${i.definition}${resHtml}</span>`;
                });
                addMessage(html, 'bot');
            }, 300);
        }
        function addMessage(html, type) {
            const div = document.createElement('div');
            div.className = `message ${type}`;
            div.innerHTML = html;
            document.getElementById('chat-messages').appendChild(div);
            document.getElementById('chat-messages').scrollTop = 99999;
        }
        function searchStandards(keyword) {
            return allStandards.filter(s => s.definition.includes(keyword) || s.code.includes(keyword));
        }

        initData();
    </script>
</body>

</html>